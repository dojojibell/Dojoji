{"ast":null,"code":"import fetch from 'unfetch';\nimport qs from 'query-string';\nexport async function get(url, query) {\n  if (query) {\n    url += '?' + qs.stringify(query);\n  }\n\n  return await (await fetch(url)).json();\n}\nexport function subgraph(subgraphUrl) {\n  return async function (query, variables) {\n    const res = await fetch(subgraphUrl, {\n      method: 'POST',\n      body: JSON.stringify({\n        query,\n        variables\n      })\n    });\n    const {\n      data\n    } = await res.json();\n    return data;\n  };\n}","map":{"version":3,"sources":["/Users/ivopascoal/Desktop/MAXBID/src/utils/request.ts"],"names":["fetch","qs","get","url","query","stringify","json","subgraph","subgraphUrl","variables","res","method","body","JSON","data"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,SAAlB;AACA,OAAOC,EAAP,MAAe,cAAf;AAEA,OAAO,eAAeC,GAAf,CAAmBC,GAAnB,EAAgCC,KAAhC,EAA4D;AACjE,MAAIA,KAAJ,EAAW;AACTD,IAAAA,GAAG,IAAI,MAAMF,EAAE,CAACI,SAAH,CAAaD,KAAb,CAAb;AACD;;AACD,SAAO,MAAM,CAAC,MAAMJ,KAAK,CAACG,GAAD,CAAZ,EAAmBG,IAAnB,EAAb;AACD;AAED,OAAO,SAASC,QAAT,CAAkBC,WAAlB,EAAuC;AAC5C,SAAO,gBAAgBJ,KAAhB,EAA+BK,SAA/B,EAA+D;AACpE,UAAMC,GAAG,GAAG,MAAMV,KAAK,CAACQ,WAAD,EAAc;AACnCG,MAAAA,MAAM,EAAE,MAD2B;AAEnCC,MAAAA,IAAI,EAAEC,IAAI,CAACR,SAAL,CAAe;AAAED,QAAAA,KAAF;AAASK,QAAAA;AAAT,OAAf;AAF6B,KAAd,CAAvB;AAIA,UAAM;AAAEK,MAAAA;AAAF,QAAW,MAAMJ,GAAG,CAACJ,IAAJ,EAAvB;AACA,WAAOQ,IAAP;AACD,GAPD;AAQD","sourcesContent":["import fetch from 'unfetch';\nimport qs from 'query-string';\n\nexport async function get(url: string, query: Record<string, any>) {\n  if (query) {\n    url += '?' + qs.stringify(query);\n  }\n  return await (await fetch(url)).json();\n}\n\nexport function subgraph(subgraphUrl: string) {\n  return async function (query: string, variables: Record<string, any>) {\n    const res = await fetch(subgraphUrl, {\n      method: 'POST',\n      body: JSON.stringify({ query, variables }),\n    });\n    const { data } = await res.json();\n    return data;\n  };\n}\n"]},"metadata":{},"sourceType":"module"}